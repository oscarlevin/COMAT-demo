<!DOCTYPE html>
<!--**************************************-->
<!--*    Generated from PreTeXt source   *-->
<!--*    on 2019-01-01T10:47:50-07:00    *-->
<!--*                                    *-->
<!--*      https://pretextbook.org       *-->
<!--*                                    *-->
<!--**************************************-->
<html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Generating Functions</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width,  initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<script src="https://sagecell.sagemath.org/static/jquery.min.js"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [['\\(','\\)']]
    },
    asciimath2jax: {
        ignoreClass: ".*",
        processClass: "has_am"
    },
    jax: ["input/AsciiMath"],
    extensions: ["asciimath2jax.js"],
    TeX: {
        extensions: ["extpfeil.js", "autobold.js", "https://aimath.org/mathbook/mathjaxknowl.js", ],
        // scrolling to fragment identifiers is controlled by other Javascript
        positionToHash: false,
        equationNumbers: { autoNumber: "none", useLabelIds: true, },
        TagSide: "right",
        TagIndent: ".8em",
    },
    // HTML-CSS output Jax to be dropped for MathJax 3.0
    "HTML-CSS": {
        scale: 88,
        mtextFontInherit: true,
    },
    CommonHTML: {
        scale: 88,
        mtextFontInherit: true,
    },
});
</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML-full"></script><link href="https://webwork-dev.aimath.org/webwork2_files/js/apps/MathView/mathview.css" rel="stylesheet">
<script src="https://webwork-dev.aimath.org/webwork2_files/js/vendor/iframe-resizer/js/iframeResizer.min.js"></script><script>(function() {
  var cx = '000445521324161818100:uw-slr5ay1u';
  var gcse = document.createElement('script');
  gcse.type = 'text/javascript';
  gcse.async = true;
  gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(gcse, s);
})();
</script><script src="https://aimath.org/knowl.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.sticky.js"></script><script src="https://aimath.org/mathbook/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.1/pretext.js"></script><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400italic,600,600italic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Inconsolata:400,700&amp;subset=latin,latin-ext" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/stylesheets/mathbook-5.css" rel="stylesheet" type="text/css">
<link href="https://aimath.org/mathbook/mathbook-add-on2.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="custom-styles.css">
<link href="https://pretextbook.org/css/0.1/features.css" rel="stylesheet" type="text/css">
<script>var logged_in = false;
var role = 'student';
var guest_access = true;
var login_required = false;
</script>
</head>
<body class="mathbook-book has-toc has-sidebar-left">
<a class="assistive" href="#content">Skip to main content</a><div class="hidden-content" style="display:none">\(\renewcommand{\d}{\displaystyle}
\newcommand{\N}{\mathbb N}
\newcommand{\B}{\mathbf B}
\newcommand{\Z}{\mathbb Z}
\newcommand{\Q}{\mathbb Q}
\newcommand{\R}{\mathbb R}
\newcommand{\C}{\mathbb C}
\newcommand{\U}{\mathcal U}
\newcommand{\pow}{\mathcal P}
\newcommand{\inv}{^{-1}}
\newcommand{\st}{:}
\renewcommand{\iff}{\leftrightarrow}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand{\imp}{\rightarrow}
\newcommand{\Imp}{\Rightarrow}
\newcommand{\isom}{\cong}

\renewcommand{\bar}{\overline}
\newcommand{\card}[1]{\left| #1 \right|}
\newcommand{\twoline}[2]{\begin{pmatrix}#1 \\ #2 \end{pmatrix}}

\newcommand{\vtx}[2]{node[fill,circle,inner sep=0pt, minimum size=4pt,label=#1:#2]{}}
\newcommand{\va}[1]{\vtx{above}{#1}}
\newcommand{\vb}[1]{\vtx{below}{#1}}
\newcommand{\vr}[1]{\vtx{right}{#1}}
\newcommand{\vl}[1]{\vtx{left}{#1}}
\renewcommand{\v}{\vtx{above}{}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\)</div>
<header id="masthead" class="smallbuttons"><div class="banner"><div class="container">
<div class="searchwrapper" role="search"><div class="gcse-search"></div></div>
<a id="logo-link" href="http://discrete.openmathbooks.org/dmoi3.html" target="_blank"><img src="images/cover.png" alt="Logo image"></a><div class="title-container">
<h1 class="heading"><a href="dmoi.html"><span class="title">Discrete Mathematics</span><span class="subtitle">An Open Introduction, 3rd edition</span></a></h1>
<p class="byline">Oscar Levin</p>
</div>
</div></div>
<nav id="primary-navbar" class="navbar"><div class="container">
<div class="navbar-top-buttons">
<button class="sidebar-left-toggle-button button active" aria-label="Show or hide table of contents sidebar">Contents</button><div class="tree-nav toolbar toolbar-divisor-3">
<a class="index-button toolbar-item button" href="index-1.html" title="Index">Index</a><span class="threebuttons"><a id="previousbutton" class="previous-button toolbar-item button" href="ch_additionalTopics.html" title="Previous">Prev</a><a id="upbutton" class="up-button button toolbar-item" href="ch_additionalTopics.html" title="Up">Up</a><a id="nextbutton" class="next-button button toolbar-item" href="sec_addtops-numbth.html" title="Next">Next</a></span>
</div>
<button class="sidebar-right-toggle-button button active">Annotations</button>
</div>
<div class="navbar-bottom-buttons toolbar toolbar-divisor-4">
<button class="sidebar-left-toggle-button button toolbar-item active">Contents</button><a class="previous-button toolbar-item button" href="ch_additionalTopics.html" title="Previous">Prev</a><a class="up-button button toolbar-item" href="ch_additionalTopics.html" title="Up">Up</a><a class="next-button button toolbar-item" href="sec_addtops-numbth.html" title="Next">Next</a>
</div>
</div></nav></header><div class="page">
<div id="sidebar-left" class="sidebar" role="navigation"><div class="sidebar-content">
<nav id="toc"><h2 class="link"><a href="frontmatter.html" data-scroll="qaP"><span class="title">Front Matter</span></a></h2>
<ul>
<li><a href="colophon-1.html" data-scroll="colophon-1">Colophon</a></li>
<li><a href="dedication-1.html" data-scroll="dedication-1">Dedication</a></li>
<li><a href="acknowledgement-1.html" data-scroll="acknowledgement-1">Acknowledgements</a></li>
<li><a href="preface.html" data-scroll="WhY">Preface</a></li>
<li><a href="preface-2.html" data-scroll="Cph">How to use this book</a></li>
</ul>
<h2 class="link"><a href="ch_intro.html" data-scroll="csJ"><span class="codenumber">0</span> <span class="title">Introduction and Preliminaries</span></a></h2>
<ul>
<li><a href="sec_intro-intro.html" data-scroll="NGK">What is Discrete Mathematics?</a></li>
<li><a href="sec_intro-statements.html" data-scroll="xzK">Mathematical Statements</a></li>
<li><a href="sec_intro-sets.html" data-scroll="leb">Sets</a></li>
<li><a href="sec_intro-functions.html" data-scroll="BUV">Functions</a></li>
</ul>
<h2 class="link"><a href="ch_counting.html" data-scroll="Pux"><span class="codenumber">1</span> <span class="title">Counting</span></a></h2>
<ul>
<li><a href="sec_counting-addmult.html" data-scroll="VUd">Additive and Multiplicative Principles</a></li>
<li><a href="sec_counting-binom.html" data-scroll="Zkv">Binomial Coefficients</a></li>
<li><a href="sec_counting-combperm.html" data-scroll="Hvm">Combinations and Permutations</a></li>
<li><a href="sec_comb-proofs.html" data-scroll="ItB">Combinatorial Proofs</a></li>
<li><a href="sec_stars-and-bars.html" data-scroll="fJO">Stars and Bars</a></li>
<li><a href="sec_advPIE.html" data-scroll="kVX">Advanced Counting Using PIE</a></li>
<li><a href="sec_count-conc.html" data-scroll="qLw">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_sequences.html" data-scroll="iRP"><span class="codenumber">2</span> <span class="title">Sequences</span></a></h2>
<ul>
<li><a href="sec_seq_intro.html" data-scroll="mrl">Describing Sequences</a></li>
<li><a href="sec_seq-arithgeom.html" data-scroll="QQl">Arithmetic and Geometric Sequences</a></li>
<li><a href="sec_polyfit.html" data-scroll="Skm">Polynomial Fitting</a></li>
<li><a href="sec_recurrence.html" data-scroll="vbq">Solving Recurrence Relations</a></li>
<li><a href="sec_seq-induction.html" data-scroll="jpB">Induction</a></li>
<li><a href="sec_sequences-conc.html" data-scroll="rZt">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_logic.html" data-scroll="UOk"><span class="codenumber">3</span> <span class="title">Symbolic Logic and Proofs</span></a></h2>
<ul>
<li><a href="sec_propositional.html" data-scroll="suF">Propositional Logic</a></li>
<li><a href="sec_logic-proofs.html" data-scroll="Ves">Proofs</a></li>
<li><a href="sec_logic-conc.html" data-scroll="uMv">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_graphtheory.html" data-scroll="EVs"><span class="codenumber">4</span> <span class="title">Graph Theory</span></a></h2>
<ul>
<li><a href="sec_gt-intro.html" data-scroll="RdG">Definitions</a></li>
<li><a href="sec_trees.html" data-scroll="sec_trees">Trees</a></li>
<li><a href="sec_planar.html" data-scroll="ctW">Planar Graphs</a></li>
<li><a href="sec_coloring.html" data-scroll="fYj">Coloring</a></li>
<li><a href="sec_paths.html" data-scroll="cPv">Euler Paths and Circuits</a></li>
<li><a href="sec_matchings.html" data-scroll="MWD">Matching in Bipartite Graphs</a></li>
<li><a href="sec_gt-conc.html" data-scroll="Dab">Chapter Summary</a></li>
</ul>
<h2 class="link"><a href="ch_additionalTopics.html" data-scroll="jno"><span class="codenumber">5</span> <span class="title">Additional Topics</span></a></h2>
<ul>
<li><a href="sec_addtops-genfun.html" data-scroll="ShZ" class="active">Generating Functions</a></li>
<li><a href="sec_addtops-numbth.html" data-scroll="JFy">Introduction to Number Theory</a></li>
</ul>
<h2 class="link"><a href="backmatter.html" data-scroll="qRN"><span class="title">Backmatter</span></a></h2>
<h2 class="link"><a href="solutions-1.html" data-scroll="solutions-1"><span class="codenumber">A</span> <span class="title">Selected Hints</span></a></h2>
<h2 class="link"><a href="solutions-2.html" data-scroll="WYW"><span class="codenumber">B</span> <span class="title">Selected Solutions</span></a></h2>
<h2 class="link"><a href="appendix-1.html" data-scroll="KKE"><span class="codenumber">C</span> <span class="title">List of Symbols</span></a></h2>
<h2 class="link"><a href="index-1.html" data-scroll="index-1"><span class="title">Index</span></a></h2>
<h2 class="link"><a href="colophon-2.html" data-scroll="colophon-2"><span class="title">Colophon</span></a></h2></nav><div class="extras"><nav><a class="mathbook-link" href="https://pretextbook.org">Authored in PreTeXt</a><a href="https://www.mathjax.org"><img title="Powered by MathJax" src="https://www.mathjax.org/badge/badge.gif" alt="Powered by MathJax"></a></nav></div>
</div></div>
<main class="main"><div id="content" class="mathbook-content"><section class="section" id="ShZ"><h2 class="heading hide-type">
<span class="type">Section</span> <span class="codenumber">5.1</span> <span class="title">Generating Functions</span>
</h2>
<a href="sec_addtops-genfun.html" class="permalink">¶</a><section class="introduction" id="upj"><p id="VFv">There is an extremely powerful tool in discrete mathematics used to manipulate sequences called the generating function. The idea is this: instead of an infinite sequence (for example: \(2, 3, 5, 8, 12, \ldots\)) we look at a single function which encodes the sequence. But not a function which gives the \(n\)th term as output. Instead, a function whose power series (like from calculus) “displays” the terms of the sequence. So for example, we would look at the power series \(2 + 3x + 5x^2 + 8x^3 + 12x^4 + \cdots\) which displays the sequence \(2, 3, 5, 8, 12, \ldots\) as coefficients.</p>
<p id="BME">An infinite power series is simply an infinite sum of terms of the form \(c_nx^n\) were \(c_n\) is some constant. So we might write a power series like this:</p>
<div class="displaymath">
\begin{equation*}
\sum_{k=0}^\infty c_k x^k\text{.}
\end{equation*}
</div>
<p>or expanded like this</p>
<div class="displaymath">
\begin{equation*}
c_0 + c_1x + c_2x^2 + c_3x^3 + c_4x^4 + c_5x^5 + \cdots\text{.}
\end{equation*}
</div>
<p id="hTN">When viewed in the context of generating functions, we call such a power series a <em class="emphasis">generating series</em>. The generating series generates the sequence</p>
<div class="displaymath">
\begin{equation*}
c_0, c_1, c_2, c_3, c_4, c_5, \ldots\text{.}
\end{equation*}
</div>
<p id="OaW">In other words, the sequence generated by a generating series is simply the sequence of <em class="emphasis">coefficients</em> of the infinite polynomial.</p>
<article class="example-like" id="Oia"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.1</span>
</h6>
<p id="kOt">What sequence is represented by the generating series \(3 + 8x^2 + x^3 + \frac{x^5}{7} + 100x^6 + \cdots\text{?}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-aws" id="aws"><span class="type">Solution</span></a><div id="hk-aws" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="XQh">We just read off the coefficients of each \(x^n\) term. So \(a_0 = 3\) since the coefficient of \(x^0\) is 3 (\(x^0 = 1\) so this is the constant term). What is \(a_1\text{?}\) It is NOT 8, since 8 is the coefficient of \(x^2\text{,}\) so 8 is the term \(a_2\) of the sequence. To find \(a_1\) we need to look for the coefficient of \(x^1\) which in this case is 0. So \(a_1 = 0\text{.}\) Continuing, we have \(a_2 = 8\text{,}\) \(a_3 = 1\text{,}\) \(a_4 = 0\text{,}\) and \(a_5 = \frac{1}{7}\text{.}\) So we have the sequence</p>
<div class="displaymath">
\begin{equation*}
3, 0, 8, 1, \frac{1}{7}, 100, \ldots
\end{equation*}
</div>
<p id="DXq">Note that when discussing generating functions, we always start our sequence with \(a_0\text{.}\)</p>
</div></div>
</div></article><p id="uif">Now you might very naturally ask why we would do such a thing. One reason is that encoding a sequence with a power series helps us keep track of which term is which in the sequence. For example, if we write the sequence \(1, 3, 4, 6, 9, \ldots, 24, 41,\ldots\) it is impossible to determine which term \(24\) is (even if we agreed that the first term was supposed to be \(a_0\)). However, if we wrote the generating series instead, we would have \(1 + 3x + 4x^2 + 6x^3 + 9x^4 + \cdots + 24 x^{17} + 41 x^{18} + \cdots\text{.}\) Now it is clear that 24 is the 17th term of the sequence (that is, \(a_{17} = 24\)). Of course to get this benefit we could have displayed our sequence in any number of ways, perhaps \(\fbox{1}_0 \fbox{3}_1 \fbox{4}_2 \fbox{6}_3 \fbox{9}_4 \cdots \fbox{24}_{17}\fbox{41}_{18}\cdots\text{,}\) but we do not do this. The reason is that the generating series looks like an ordinary power series (although we are interpreting it differently) so we can do things with it that we ordinarily do with power series such as write down what it converges to.</p>
<p id="apo">For example, from calculus we know that the power series \(1 + x + \frac{x^2}{2} + \frac{x^3}{6} + \frac{x^4}{24} + \cdots + \frac{x^n}{n!} + \cdots\) converges to the function \(e^x\text{.}\) So we can use \(e^x\) as a way of talking about the sequence of coefficients of the power series for \(e^x\text{.}\) When we write down a nice compact function which has an infinite power series that we view as a generating series, then we call that function a <em class="emphasis">generating function</em>. In this example, we would say</p>
<div class="displaymath">
\begin{equation*}
1, 1, \frac{1}{2}, \frac{1}{6}, \frac{1}{24}, \ldots, \frac{1}{n!}, \ldots \mbox{ has generating function }  e^x
\end{equation*}
</div></section><section class="subsection" id="ypi"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Building Generating Functions</span>
</h3>
<a href="sec_addtops-genfun.html#ypi" class="permalink">¶</a><p id="lyn">The \(e^x\) example is very specific. We have a rather odd sequence, and the only reason we know its generating function is because we happen to know the Taylor series for \(e^x\text{.}\) Our goal now is to gather some tools to build the generating function of a particular given sequence.</p>
<p id="RFw">Let's see what the generating functions are for some very simple sequences. The simplest of all: 1, 1, 1, 1, 1, …. What does the <em class="emphasis">generating series</em> look like? It is simply \(1 + x + x^2 + x^3 + x^4 + \cdots\text{.}\) Now, can we find a closed formula for this power series? Yes! This particular series is really just a geometric series with common ratio \(x\text{.}\) So if we use our “multiply, shift and subtract” technique from <a href="sec_seq-arithgeom.html" class="xref" title="Section 2.2: Arithmetic and Geometric Sequences">Section 2.2</a>, we have</p>
<div class="displaymath">
\begin{align*}
S \amp  = 1 + x + x^2 + x^3 + \cdots\\
\underline{- xS} \amp  \underline{\,\, = ~~~~~~ x + x^2 + x^3 + x^4 + \cdots}\\
(1-x)S \amp  = 1
\end{align*}
</div>
<p id="xMF">Therefore we see that</p>
<div class="displaymath">
\begin{equation*}
1 + x + x^2 + x^3 \cdots = \dfrac{1}{1-x}
\end{equation*}
</div>
<p id="dTO">You might remember from calculus that this is only true on the interval of convergence for the power series, in this case when \(|x| \lt 1\text{.}\) That is true for us, but we don't care. We are never going to plug anything in for \(x\text{,}\) so as long as there is some value of \(x\) for which the generating function and generating series agree, we are happy. And in this case we are happy.</p>
<article class="assemblage-like" id="CZb"><h6 class="heading"><span class="title">\(1,1,1,\ldots\)</span></h6>
<p id="KaX">The generating function for \(1,1,1,1,1,1,\ldots\) is \(\dfrac{1}{1-x}\)</p></article><p id="qig">Let's use this basic generating function to find generating functions for more sequences. What if we replace \(x\) by \(-x\text{.}\) We get</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{1+x} = 1 - x + x^2 - x^3 + \cdots \mbox{ which generates }  1, -1, 1, -1, \ldots
\end{equation*}
</div>
<p id="Wpp">If we replace \(x\) by \(3x\) we get</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots \mbox{ which generates }  1, 3, 9, 27, \ldots
\end{equation*}
</div>
<p id="Cwy">By replacing the \(x\) in \(\frac{1}{1-x}\) we can get generating functions for a variety of sequences, but not all. For example, you cannot plug in anything for \(x\) to get the generating function for \(2,2,2,2, \ldots\text{.}\) However, we are not lost yet. Notice that each term of \(2, 2, 2, 2, \ldots\) is the result of multiplying the terms of \(1, 1, 1, 1, \ldots\) by the constant 2. So multiply the generating function by 2 as well.</p>
<div class="displaymath">
\begin{equation*}
\frac{2}{1-x} = 2 + 2x + 2x^2 + 2x^3 + \cdots \mbox{ which generates }  2, 2, 2, 2, \ldots
\end{equation*}
</div>
<p id="iDH">Similarly, to find the generating function for the sequence \(3, 9, 27, 81, \ldots\text{,}\) we note that this sequence is the result of multiplying each term of \(1, 3, 9, 27, \ldots\) by 3. Since we have the generating function for \(1, 3, 9, 27, \ldots\) we can say</p>
<div class="displaymath">
\begin{equation*}
\frac{3}{1-3x} = 3\cdot 1 + 3\cdot 3x + 3\cdot 9x^2 + 3\cdot 27x^3 + \cdots \mbox{ which generates }  3, 9, 27, 81, \ldots
\end{equation*}
</div>
<p id="OKQ">What about the sequence \(2, 4, 10, 28, 82, \ldots\text{?}\) Here the terms are always 1 more than powers of 3. That is, we have added the sequences \(1,1,1,1,\ldots\) and \(1,3,9, 27,\ldots\) term by term. Therefore we can get a generating function by adding the respective generating functions:</p>
<div class="displaymath">
\begin{align*}
2 + 4x + 10x^2 + 28x^3 + \cdots  \amp  = (1 + 1) + (1 + 3)x + (1 + 9)x^2 + (1 + 27)x^3 + \cdots\\
\amp  = 1 + x + x^2 + x^3 + \cdots + 1 + 3x + 9x^2 + 27x^3 + \cdots\\
\amp  = \frac{1}{1-x} + \frac{1}{1-3x}
\end{align*}
</div>
<p id="uRZ">The fun does not stop there: if we replace \(x\) in our original generating function by \(x^2\) we get</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{1-x^2} = 1 + x^2  + x^4 + x^6\cdots \mbox{ which generates }  1, 0, 1, 0, 1, 0, \ldots\text{.}
\end{equation*}
</div>
<p id="aZi">How could we get \(0,1,0,1,0,1,\ldots\text{?}\) Start with the previous sequence and <em class="emphasis">shift</em> it over by 1. But how do you do this? To see how shifting works, let's first try to get the generating function for the sequence \(0, 1, 3, 9, 27, \ldots\text{.}\) We know that \(\frac{1}{1-3x} = 1 + 3x + 9x^2 + 27x^3 + \cdots\text{.}\) To get the zero out front, we need the generating series to look like \(x + 3x^2 + 9x^3 + 27x^4+ \cdots\) (so there is no constant term). Multiplying by \(x\) has this effect. So the generating function for \(0, 1, 3, 9, 27, \ldots\) is \(\frac{x}{1-3x}\text{.}\) This will also work to get the generating function for \(0,1,0,1,0,1,\ldots\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
\frac{x}{1-x^2} = x + x^3 + x^5 + \cdots \mbox{ which generates }  0, 1, 0, 1, 0 , 1 \ldots
\end{equation*}
</div>
<p id="Hgr">What if we add the sequences \(1,0,1,0,1,0,\ldots\) and \(0,1,0,1,0,1,\ldots\) term by term? We should get \(1,1,1,1,1,1\ldots\text{.}\) What happens when we add the generating functions? It works (try it)!</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{1-x^2} + \frac{x}{1-x^2} = \frac{1}{1-x}\text{.}
\end{equation*}
</div>
<p id="nnA">Here's a sneaky one: what happens if you take the <em class="emphasis">derivative</em> of \(\frac{1}{1-x}\text{?}\) We get \(\frac{1}{(1-x)^2}\text{.}\) On the other hand, if we differentiate term by term in the power series, we get \((1 + x + x^2 + x^3 + \cdots)' = 1 + 2x + 3x^2 + 4x^3 + \cdots\) which is the generating series for \(1, 2, 3, 4, \ldots\text{.}\) This says</p>
<article class="assemblage-like" id="jgk"><h6 class="heading"><span class="title">\(1,2,3,\ldots\)</span></h6>
<p id="TuJ">The generating function for \(1, 2, 3, 4, 5, \ldots\) is \(\d\frac{1}{(1-x)^2}\text{.}\)</p></article><p id="zBS">Take a second derivative: \(\frac{2}{(1-x)^3} = 2 + 6x + 12x^2 + 20x^3 + \cdots\text{.}\) So \(\frac{1}{(1-x)^3} = 1 + 3x + 6x^2 + 10x^3 + \cdots\) is a generating function for the triangular numbers, \(1,3,6,10\ldots\) (although here we have \(a_0 = 1\) while \(T_0 = 0\) usually).</p></section><section class="subsection" id="ewr"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Differencing</span>
</h3>
<a href="sec_addtops-genfun.html#ewr" class="permalink">¶</a><p id="fJb">We have seen how to find generating functions from \(\frac{1}{1-x}\) using multiplication (by a constant or by \(x\)), substitution, addition, and differentiation. To use each of these, you must notice a way to transform the sequence \(1,1,1,1,1\ldots\) into your desired sequence. This is not always easy. It is also not really the way we have analyzed sequences. One thing we have considered often is the sequence of differences between terms of a sequence. This will turn out to be helpful in finding generating functions as well. The sequence of differences is often simpler than the original sequence. So if we know a generating function for the differences, we would like to use this to find a generating function for the original sequence.</p>
<p id="LQk">For example, consider the sequence \(2, 4, 10, 28, 82, \ldots\text{.}\) How could we move to the sequence of first differences: \(2, 6, 18, 54,\ldots\text{?}\) We want to subtract 2 from the 4, 4 from the 10, 10 from the 28, and so on. So if we subtract (term by term) the sequence \(0, 2, 4, 10, 28,\ldots\) from \(2, 4, 10, 28\ldots\text{,}\) we will be set. We can get the generating function for \(0,2,4,10,28,\ldots\) from the generating function for \(2,4,10,28\ldots\) by multiplying by \(x\text{.}\) Use \(A\) to represent the generating function for \(2, 4, 10, 28, 82, \ldots\) Then:</p>
<div class="displaymath">
\begin{align*}
A \amp  = 2 + 4x + 10x^2 +28x^3 + 82x^4 + \cdots\\
\underline{-xA} \amp  \underline{\,\,= 0 + 2x + 4x^2 + 10x^3 + 28 x^4 + 82x^5 + \cdots}\\
(1-x)A \amp  = 2 + 2x + 6x^2 + 18x^3 + 54x^4 + \cdots
\end{align*}
</div>
<p id="rXt">While we don't get exactly the sequence of differences, we do get something close. In this particular case, we already know the generating function \(A\) (we found it in the previous section) but most of the time we will use this differencing technique to <em class="emphasis">find</em> \(A\text{:}\) if we have the generating function for the sequence of differences, we can then solve for \(A\text{.}\)</p>
<article class="example-like" id="Pnt"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.2</span>
</h6>
<p id="QVC">Find a generating function for \(1, 3, 5, 7, 9,\ldots\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-GDB" id="GDB"><span class="type">Solution</span></a><div id="hk-GDB" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="kez">Notice that the sequence of differences is constant. We know how to find the generating function for any constant sequence. So denote the generating function for \(1, 3, 5, 7, 9, \ldots\) by \(A\text{.}\) We have</p>
<div class="displaymath">
\begin{align*}
A \amp  = 1 + 3x + 5x^2 + 7x^3 + 9x^4 + \cdots\\
\underline{-xA} \amp  \underline{\,\,= 0 + x + 3x^2 +  5x^3 + 7x^4 + 9x^5 + \cdots}\\
(1-x)A \amp  = 1 + 2x + 2x^2 + 2x^3 + 2x^4 + \cdots
\end{align*}
</div>
<p id="QlI">We know that \(2x + 2x^2 + 2x^3 + 2x^4 + \cdots = \dfrac{2x}{1-x}\text{.}\) Thus</p>
<div class="displaymath">
\begin{equation*}
(1-x)A = 1 + \frac{2x}{1-x}\text{.}
\end{equation*}
</div>
<p id="wsR">Now solve for \(A\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
A = \frac{1}{1-x} + \frac{2x}{(1-x)^2} = \frac{1+x}{(1-x)^2}\text{.}
\end{equation*}
</div>
<p id="cAa">Does this makes sense? Before we simplified the two fractions into one, we were adding the generating function for the sequence \(1,1,1,1,\ldots\) to the generating function for the sequence \(0, 2, 4, 6, 8, 10, \ldots\) (remember \(\frac{1}{(1-x)^2}\) generates \(1,2,3,4,5, \ldots\text{,}\) multiplying by \(2x\) shifts it over, putting the zero out front, and doubles each term). If we add these term by term, we get the correct sequence \(1,3,5,7, 9, \ldots\text{.}\)</p>
</div></div>
</div></article><p id="YeC">Now that we have a generating function for the odd numbers, we can use that to find the generating function for the squares:</p>
<article class="example-like" id="vuC"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.3</span>
</h6>
<p id="xcL">Find the generating function for \(1, 4, 9, 16, \ldots\text{.}\) Note we take \(1 = a_0\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-mKK" id="mKK"><span class="type">Solution</span></a><div id="hk-mKK" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="IHj">Again we call the generating function for the sequence \(A\text{.}\) Using differencing:</p>
<div class="displaymath">
\begin{align*}
A \amp  = 1 + 4x + 9x^2 + 16x^3 + \cdots\\
\underline{- xA} \amp  \underline{\,\, = 0 + x + 4x^2 + 9x^3 + 16x^4 + \cdots}\\
(1-x)A \amp  = 1 + 3x + 5x^2 + 7x^3 + \cdots
\end{align*}
</div>
<p id="oOs">Since \(1 + 3x + 5x^2 + 7x^3 + \cdots = \d\frac{1+x}{(1-x)^2}\) we have \(A = \d\frac{1+x}{(1-x)^3}\text{.}\)</p>
</div></div>
</div></article><p id="ElL">In each of the examples above, we found the difference between consecutive terms which gave us a sequence of differences for which we knew a generating function. We can generalize this to more complicated relationships between terms of the sequence. For example, if we know that the sequence satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\text{?}\) In other words, if we take a term of the sequence and subtract 3 times the previous term and then add 2 times the term before that, we get 0 (since \(a_n - 3a_{n-1} + 2a_{n-2} = 0\)). That will hold for all but the first two terms of the sequence. So after the first two terms, the sequence of results of these calculations would be a sequence of 0's, for which we definitely know a generating function.</p>
<article class="example-like" id="bBL"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.4</span>
</h6>
<p id="djU">The sequence \(1, 3, 7, 15, 31, 63, \ldots\) satisfies the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\text{.}\) Find the generating function for the sequence.</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-SRT" id="SRT"><span class="type">Solution</span></a><div id="hk-SRT" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="UVB">Call the generating function for the sequence \(A\text{.}\) We have</p>
<div class="displaymath">
\begin{align*}
A \amp  = 1 + 3x + 7x^2 + 15x^3 + 31x^4 + \cdots + a_nx^n + \cdots\\
-3xA \amp  = 0 - 3x - 9x^2 - 21x^3 - 45x^4 - \cdots - 3a_{n-1}x^n - \cdots\\
\underline{+~~~2x^2A_{~}^{~^{~}}} \amp  \underline{\,\, = 0 + 0x + 2x^2 + 6x^3 + 14x^4 + \cdots + 2a_{n-2}x^n + \cdots}\\
(1-3x+2x^2)A \amp  = 1
\end{align*}
</div>
<p id="BcK">We multiplied \(A\) by \(-3x\) which shifts every term over one spot and multiplies them by \(-3\text{.}\) On the third line, we multiplied \(A\) by \(2x^2\text{,}\) which shifted every term over two spots and multiplied them by 2. When we add up the corresponding terms, we are taking each term, subtracting 3 times the previous term, and adding 2 times the term before that. This will happen for each term after \(a_1\) because \(a_n - 3a_{n-1} + 2a_{n-2} = 0\text{.}\) In general, we might have two terms from the beginning of the generating series, although in this case the second term happens to be 0 as well.</p>
<p id="hjT">Now we just need to solve for \(A\text{:}\)</p>
<div class="displaymath">
\begin{equation*}
A = \frac{1}{1 - 3x + 2x^2}\text{.}
\end{equation*}
</div>
</div></div>
</div></article></section><section class="subsection" id="KDA"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Multiplication and Partial Sums</span>
</h3>
<a href="sec_addtops-genfun.html#KDA" class="permalink">¶</a><p id="ksU">What happens to the sequences when you multiply two generating functions? Let's see: \(A = a_0 + a_1x + a_2x^2 + \cdots\) and \(B = b_0 + b_1x + b_2x^2 + \cdots\text{.}\) To multiply \(A\) and \(B\text{,}\) we need to do a lot of distributing (infinite FOIL?) but keep in mind we will group like terms and only need to write down the first few terms to see the pattern. The constant term is \(a_0b_0\text{.}\) The coefficient of \(x\) is \(a_0b_1 + a_1b_0\text{.}\) And so on. We get:</p>
<div class="displaymath">
\begin{equation*}
AB = a_0b_0 + (a_0b_1 + a_1b_0)x + (a_0b_2 + a_1b_1 + a_2b_0)x^2 + (a_0b_3 + a_1b_2 + a_2b_1 + a_3b_0)x^3 + \cdots
\end{equation*}
</div>
<article class="example-like" id="HIU"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.5</span>
</h6>
<p id="Jrd">“Multiply” the sequence \(1, 2, 3, 4, \ldots\) by the sequence \(1, 2, 4, 8, 16, \ldots\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-yZc" id="yZc"><span class="type">Solution</span></a><div id="hk-yZc" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="Nrc">The new constant term is just \(1 \cdot 1\text{.}\) The next term will be \(1\cdot 2 + 2 \cdot 1 = 4\text{.}\) The next term: \(1 \cdot 4 + 2 \cdot 2 + 3 \cdot 1 = 11\text{.}\) One more: \(1 \cdot 8 + 2 \cdot 4 + 3 \cdot 2 + 4 \cdot 1 = 28\text{.}\) The resulting sequence is</p>
<div class="displaymath">
\begin{equation*}
1, 4, 11, 28, 57, \ldots
\end{equation*}
</div>
<p id="tyl">Since the generating function for \(1,2,3,4, \ldots\) is \(\frac{1}{(1-x)^2}\) and the generating function for \(1,2,4,8, 16, \ldots\) is \(\frac{1}{1-2x}\text{,}\) we have that the generating function for \(1,4, 11, 28, 57, \ldots\) is \(\frac{1}{(1-x)^2(1-2x)}\)</p>
</div></div>
</div></article><p id="QAd">Consider the special case when you multiply a sequence by \(1, 1, 1, \ldots\text{.}\) For example, multiply \(1,1,1,\ldots\) by \(1, 2, 3, 4, 5\ldots\text{.}\) The first term is \(1\cdot 1 = 1\text{.}\) Then \(1\cdot 2 + 1 \cdot 1 = 3\text{.}\) Then \(1\cdot 3 + 1\cdot 2 + 1 \cdot 1 = 6\text{.}\) The next term will be 10. We are getting the triangular numbers. More precisely, we get the sequence of partial sums of \(1,2,3,4,5, \ldots\text{.}\) In terms of generating functions, we take \(\frac{1}{1-x}\) (generating \(1,1,1,1,1\ldots\)) and multiply it by \(\frac{1}{(1-x)^2}\) (generating \(1,2,3,4,5,\ldots\)) and this give \(\frac{1}{(1-x)^3}\text{.}\) This should not be a surprise as we found the same generating function for the triangular numbers earlier.</p>
<p id="wHm">The point is, if you need to find a generating function for the sum of the first \(n\) terms of a particular sequence, and you know the generating function for <em class="emphasis">that</em> sequence, you can multiply it by \(\frac{1}{1-x}\text{.}\) To go back from the sequence of partial sums to the original sequence, you look at the sequence of differences. When you get the sequence of differences you end up multiplying by \(1-x\text{,}\) or equivalently, dividing by \(\frac{1}{1-x}\text{.}\) Multiplying by \(\frac{1}{1-x}\) gives partial sums, dividing by \(\frac{1}{1-x}\) gives differences.</p></section><section class="subsection" id="qKJ"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Solving Recurrence Relations with Generating Functions</span>
</h3>
<a href="sec_addtops-genfun.html#qKJ" class="permalink">¶</a><p id="cOv">We conclude with an example of one of the many reasons studying generating functions is helpful. We can use generating functions to solve recurrence relations.</p>
<article class="example-like" id="nQd"><h6 class="heading">
<span class="type">Example</span> <span class="codenumber">5.1.6</span>
</h6>
<p id="pym">Solve the recurrence relation \(a_n = 3a_{n-1} - 2a_{n-2}\) with initial conditions \(a_0 = 1\) and \(a_1 = 3\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-fgl" id="fgl"><span class="type">Solution</span></a><div id="hk-fgl" class="hidden-content tex2jax_ignore"><div class="solution">
<p id="ZFu">We saw in an example above that this recurrence relation gives the sequence \(1, 3, 7, 15, 31, 63, \ldots\) which has generating function \(\dfrac{1}{1 - 3x + 2x^2}\text{.}\) We did this by calling the generating function \(A\) and then computing \(A - 3xA + 2x^2A\) which was just 1, since every other term canceled out.</p>
<p id="FMD">But how does knowing the generating function help us? First, break up the generating function into two simpler ones. For this, we can use partial fraction decomposition. Start by factoring the denominator:</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{1-3x + 2x^2} = \frac{1}{(1-x)(1-2x)}\text{.}
\end{equation*}
</div>
<p id="lTM">Partial fraction decomposition tells us that we can write this faction as the sum of two fractions (we decompose the given fraction):</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{a}{1-x} + \frac{b}{1-2x} \text{ ~~ for some constants } a \text{ and } b\text{.}
\end{equation*}
</div>
<p id="SaV">To find \(a\) and \(b\) we add the two decomposed fractions using a common denominator. This gives</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{a(1-2x) + b(1-x)}{(1-x)(1-2x)}\text{.}
\end{equation*}
</div>
<p>so</p>
<div class="displaymath">
\begin{equation*}
1 = a(1-2x) + b(1-x)\text{.}
\end{equation*}
</div>
<p id="yie">This must be true for all values of \(x\text{.}\) If \(x = 1\text{,}\) then the equation becomes \(1 = -a\) so \(a = -1\text{.}\) When \(x = \frac{1}{2}\) we get \(1 = b/2\) so \(b = 2\text{.}\) This tells us that we can decompose the fraction like this:</p>
<div class="displaymath">
\begin{equation*}
\frac{1}{(1-x)(1-2x)} = \frac{-1}{1-x} + \frac{2}{1-2x}\text{.}
\end{equation*}
</div>
<p id="epn">This completes the partial fraction decomposition. Notice that these two fractions are generating functions we know. In fact, we should be able to expand each of them.</p>
<div class="displaymath">
\begin{equation*}
\frac{-1}{1-x} = -1 - x - x^2 -x^3 - x^4 - \cdots \mbox{ which generates }  -1, -1, -1, -1, -1, \ldots\text{.}
\end{equation*}
</div>
<div class="displaymath">
\begin{equation*}
\frac{2}{1-2x} = 2 + 4x + 8x^2 + 16x^3 + 32x^4 + \cdots \mbox{ which generates }  2, 4, 8, 16, 32, \ldots\text{.}
\end{equation*}
</div>
<p id="Kww">We can give a closed formula for the \(n\)th term of each of these sequences. The first is just \(a_n = -1\text{.}\) The second is \(a_n = 2^{n+1}\text{.}\) The sequence we are interested in is just the sum of these, so the solution to the recurrence relation is</p>
<div class="displaymath">
\begin{equation*}
a_n = 2^{n+1} - 1
\end{equation*}
</div>
</div></div>
</div></article><p id="IVE">We can now add generating functions to our list of methods for solving recurrence relations.</p></section><section class="exercises" id="oVw"><h3 class="heading hide-type">
<span class="type">Subsection</span> <span class="codenumber"></span> <span class="title">Exercises</span>
</h3>
<a href="sec_addtops-genfun.html#oVw" class="permalink">¶</a><article class="exercise-like" id="KKE"><h6 class="heading">
<span class="codenumber">1</span> </h6>
<p id="uKI">Find the generating function for each of the following sequences by relating them back to a sequence with known generating function.</p>
<ol class="lower-alpha">
<li id="UOk">\(4,4,4,4,4,\ldots\text{.}\)</li>
<li id="AVt">\(2, 4, 6, 8, 10, \ldots\text{.}\)</li>
<li id="hcC">\(0,0,0,2,4,6,8,10,\ldots\text{.}\)</li>
<li id="NjL">\(1, 5, 25, 125, \ldots\text{.}\)</li>
<li id="tqU">\(1, -3, 9, -27, 81, \ldots\text{.}\)</li>
<li id="Zyd">\(1, 0, 5, 0, 25, 0, 125, 0, \ldots\text{.}\)</li>
<li id="FFm">\(0, 1, 0, 0, 2, 0, 0, 3, 0, 0, 4, 0, 0, 5, \ldots\text{.}\)</li>
</ol>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-EVs" id="EVs"><span class="type">Solution</span></a><div id="hk-EVs" class="hidden-content tex2jax_ignore"><div class="solution"><ol id="p-4630" class="lower-alpha cols3">
<li id="lMv">\(\dfrac{4}{1-x}\text{.}\)</li>
<li id="RTE">\(\dfrac{2}{(1-x)^2}\text{.}\)</li>
<li id="yaN">\(\dfrac{2x^3}{(1-x)^2}\text{.}\)</li>
<li id="ehW">\(\dfrac{1}{1-5x}\text{.}\)</li>
<li id="Kpf">\(\dfrac{1}{1+3x}\text{.}\)</li>
<li id="qwo">\(\dfrac{1}{1-5x^2}\text{.}\)</li>
<li id="WDx">\(\dfrac{x}{(1-x^3)^2}\text{.}\)</li>
</ol></div></div>
</div></article><article class="exercise-like" id="qRN"><h6 class="heading">
<span class="codenumber">2</span> </h6>
<p id="aRR">Find the sequence generated by the following generating functions:</p>
<ol class="lower-alpha">
<li id="CKG">\(\dfrac{4x}{1-x}\text{.}\)</li>
<li id="iRP">\(\dfrac{1}{1-4x}\text{.}\)</li>
<li id="OYY">\(\dfrac{x}{1+x}\text{.}\)</li>
<li id="vgh">\(\dfrac{3x}{(1+x)^2}\text{.}\)</li>
<li id="bnq">\(\dfrac{1+x+x^2}{(1-x)^2}\) (Hint: multiplication).</li>
</ol>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-lcB" id="lcB"><span class="type">Solution</span></a><div id="hk-lcB" class="hidden-content tex2jax_ignore"><div class="solution"><ol id="p-4632" class="lower-alpha">
<li id="Huz">\(0, 4, 4, 4, 4, 4, \ldots\text{.}\)</li>
<li id="nBI">\(1, 4, 16, 64, 256, \ldots\text{.}\)</li>
<li id="TIR">\(0, 1, -1, 1, -1, 1, -1, \ldots\text{.}\)</li>
<li id="zQa">\(0, 3, -6, 9, -12, 15, -18, \ldots\text{.}\)</li>
<li id="fXj">\(1, 3, 6, 9, 12, 15, \ldots\text{.}\)</li>
</ol></div></div>
</div></article><article class="exercise-like" id="WYW"><h6 class="heading">
<span class="codenumber">3</span> </h6>
<p id="GZa">Show how you can get the generating function for the triangular numbers in three different ways:</p>
<ol class="lower-alpha">
<li id="Mes"><p id="bXk">Take two derivatives of the generating function for \(1,1,1,1,1, \ldots\)</p></li>
<li id="slB"><p id="Iet">Use differencing.</p></li>
<li id="YsK"><p id="olC">Multiply two known generating functions.</p></li>
</ol></article><article class="exercise-like" id="Dgf"><h6 class="heading">
<span class="codenumber">4</span> </h6>
<p id="ngj">Use differencing to find the generating function for \(4, 5, 7, 10, 14, 19, 25, \ldots\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-xqT" id="xqT"><span class="type">Solution</span></a><div id="hk-xqT" class="hidden-content tex2jax_ignore"><div class="solution"><p id="lqW">Call the generating function \(A\text{.}\) Compute \(A - xA = 4 + x + 2x^2 + 3x^3 + 4x^4 + \cdots\text{.}\) Thus \(A - xA = 4 + \dfrac{x}{(1-x)^2}\text{.}\) Solving for \(A\) gives \(\d\frac{4}{1-x} + \frac{x}{(1-x)^3}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="jno"><h6 class="heading">
<span class="codenumber">5</span> </h6>
<p id="Tns">Find a generating function for the sequence with recurrence relation \(a_n = 3a_{n-1} - a_{n-2}\) with initial terms \(a_0 = 1\) and \(a_1 = 5\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-dyc" id="dyc"><span class="type">Solution</span></a><div id="hk-dyc" class="hidden-content tex2jax_ignore"><div class="solution"><p id="Ryf">\(\dfrac{1+2x}{1-3x + x^2}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="Pux"><h6 class="heading">
<span class="codenumber">6</span> </h6>
<p id="zuB">Use the recurrence relation for the Fibonacci numbers to find the generating function for the Fibonacci sequence.</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-JFl" id="JFl"><span class="type">Solution</span></a><div id="hk-JFl" class="hidden-content tex2jax_ignore"><div class="solution"><p id="xFo">Compute \(A - xA - x^2A\) and the solve for \(A\text{.}\) The generating function will be \(\dfrac{x}{1-x-x^2}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="vBG"><h6 class="heading">
<span class="codenumber">7</span> </h6>
<p id="fBK">Use multiplication to find the generating function for the sequence of partial sums of Fibonacci numbers, \(S_0, S_1, S_2, \ldots\) where \(S_0 = F_0\text{,}\) \(S_1 = F_0 + F_1\text{,}\) \(S_2 = F_0 + F_1 + F_2\text{,}\) \(S_3 = F_0 + F_1 + F_2 + F_3\) and so on.</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-pMu" id="pMu"><span class="type">Solution</span></a><div id="hk-pMu" class="hidden-content tex2jax_ignore"><div class="solution"><p id="dMx">\(\dfrac{x}{(1-x)(1-x-x^2)}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="bIP"><h6 class="heading">
<span class="codenumber">8</span> </h6>
<p id="LIT">Find the generating function for the sequence with closed formula \(a_n = 2(5^n) + 7(-3)^n\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-VTD" id="VTD"><span class="type">Solution</span></a><div id="hk-VTD" class="hidden-content tex2jax_ignore"><div class="solution"><p id="JTG">\(\dfrac{2}{1-5x} + \dfrac{7}{1+3x}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="HPY"><h6 class="heading">
<span class="codenumber">9</span> </h6>
<p id="rQc">Find a closed formula for the \(n\)th term of the sequence with generating function \(\dfrac{3x}{1-4x} + \dfrac{1}{1-x}\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-CaM" id="CaM"><span class="type">Solution</span></a><div id="hk-CaM" class="hidden-content tex2jax_ignore"><div class="solution"><p id="qaP">\(a_n = 3\cdot 4^{n-1} + 1\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="nXh"><h6 class="heading">
<span class="codenumber">10</span> </h6>
<p id="XXl">Find \(a_7\) for the sequence with generating function \(\dfrac{2}{(1-x)^2}\cdot\dfrac{x}{1-x-x^2}\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-ihV" id="ihV"><span class="type">Hint</span></a><div id="hk-ihV" class="hidden-content tex2jax_ignore"><div class="solution"><p id="WhY">You should “multiply” the two sequences.</p></div></div>
</div></article><article class="exercise-like" id="Ueq"><h6 class="heading">
<span class="codenumber">11</span> </h6>
<p id="Eeu">Explain how we know that \(\dfrac{1}{(1-x)^2}\) is the generating function for \(1, 2, 3, 4, \ldots\text{.}\)</p></article><article class="exercise-like" id="Alz"><h6 class="heading">
<span class="codenumber">12</span> </h6>
<p id="klD">Starting with the generating function for \(1,2,3,4, \ldots\text{,}\) find a generating function for each of the following sequences.</p>
<ol class="lower-alpha">
<li id="wVu">\(1, 0, 2, 0, 3, 0, 4,\ldots\text{.}\)</li>
<li id="dcD">\(1, -2, 3, -4, 5, -6, \ldots\text{.}\)</li>
<li id="JjM">\(0, 3, 6, 9, 12, 15, 18, \ldots\text{.}\)</li>
<li id="pqV">\(0, 3, 9, 18, 30, 45, 63,\ldots\text{.}\) (Hint: relate this sequence to the previous one.)</li>
</ol>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-uwn" id="uwn"><span class="type">Solution</span></a><div id="hk-uwn" class="hidden-content tex2jax_ignore"><div class="solution"><ol id="p-4653" class="lower-alpha">
<li id="Vye">\(\frac{1}{(1-x^2)^2}\text{.}\)</li>
<li id="BFn">\(\frac{1}{(1+x)^2}\text{.}\)</li>
<li id="hMw">\(\frac{3x}{(1-x)^2}\text{.}\)</li>
<li id="NTF">\(\frac{3x}{(1-x)^3}\text{.}\) (partial sums).</li>
</ol></div></div>
</div></article><article class="exercise-like" id="gsI"><h6 class="heading">
<span class="codenumber">13</span> </h6>
<p id="QsM">You may assume that \(1, 1, 2, 3, 5, 8,\ldots\) has generating function \(\dfrac{1}{1-x-x^2}\) (because it does). Use this fact to find the sequence generated by each of the following generating functions.</p>
<ol class="lower-alpha">
<li id="uaO">\(\frac{x^2}{1-x-x^2}\text{.}\)</li>
<li id="ahX">\(\frac{1}{1-x^2-x^4}\text{.}\)</li>
<li id="Gpg">\(\frac{1}{1-3x-9x^2}\text{.}\)</li>
<li id="mwp">\(\frac{1}{(1-x-x^2)(1-x)}\text{.}\)</li>
</ol>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-aDw" id="aDw"><span class="type">Solution</span></a><div id="hk-aDw" class="hidden-content tex2jax_ignore"><div class="solution"><ol id="p-4655" class="lower-alpha">
<li id="SDy">\(0,0,1,1,2,3,5,8, \ldots\text{.}\)</li>
<li id="yKH">\(1, 0, 1, 0, 2, 0, 3, 0, 5, 0, 8, 0, \ldots\text{.}\)</li>
<li id="eRQ">\(1, 3, 18, 81, 405, \ldots\text{.}\)</li>
<li id="KYZ">\(1, 2, 4, 7, 12, 20, \ldots\text{.}\)</li>
</ol></div></div>
</div></article><article class="exercise-like" id="MzR"><h6 class="heading">
<span class="codenumber">14</span> </h6>
<p id="wzV">Find the generating function for the sequence \(1, -2, 4, -8, 16, \ldots\text{.}\)</p></article><article class="exercise-like" id="sHa"><h6 class="heading">
<span class="codenumber">15</span> </h6>
<p id="cHe">Find the generating function for the sequence \(1, 1, 1, 2, 3, 4, 5, 6, \ldots\text{.}\)</p>
<div class="solutions">
<a knowl="" class="id-ref" refid="hk-mRO" id="mRO"><span class="type">Solution</span></a><div id="hk-mRO" class="hidden-content tex2jax_ignore"><div class="solution"><p id="ODz">\(\frac{x^3}{(1-x)^2} + \frac{1}{1-x}\text{.}\)</p></div></div>
</div></article><article class="exercise-like" id="YOj"><h6 class="heading">
<span class="codenumber">16</span> </h6>
<p id="IOn">Suppose \(A\) is the generating function for the sequence \(3, 5, 9, 15, 23, 33, \ldots\text{.}\)</p>
<ol class="lower-alpha">
<li id="rgi"><p id="MOm">Find a generating function (in terms of \(A\)) for the sequence of differences between terms.</p></li>
<li id="Xnr"><p id="sVv">Write the sequence of differences between terms and find a generating function for it (without referencing \(A\)).</p></li>
<li id="DuA"><p id="ZcE">Use your answers to parts (a) and (b) to find the generating function for the original sequence.</p></li>
</ol></article></section></section></div></main>
</div>
<!--Start: Google code--><script>
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-66485406-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'https://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script><!--End: Google code--><div class="login-link"><span id="loginlogout" class="login">login</span></div>
<script src="https://pretextbook.org/js/0.1/login.js"></script>
</body>
</html>
